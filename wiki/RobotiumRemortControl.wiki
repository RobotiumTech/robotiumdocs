#labels Deprecated
Remote Control for Robotium on the other hand will be similar in architecture to how [http://seleniumhq.org/docs/05_selenium_rc.html Selenium RC] works.
= Introduction =
With Remote Control, you will have the test classes run in your computer with normal JUnit and transparently communicating to the device what to manipulate. Having the test classes run on the computer instead, will mean that we can use other things on top, such as cucumber or anything which can deal with the JVM.

For this to work, there will need to be some kind of remote control receiver, or server component really, in the device with instrumentation permissions. When the test classes run in the computer, and talk to the Robotium Remote Control component, that component will actually be a proxy which relays the method calls somehow over to the server component installed on the device. It will then perform the actual actions, such as looking for things on screen and manipulating them. Responses to method calls are transferred back to the computer and returned out from the proxy. 

= Install Instructions: =
*1. Verify [http://www.oracle.com/technetwork/java/javase/downloads/index.html (Install if needed)] a Java JDK (not a JRE):*

The Java SDK should be version 1.6 or higher.

 The System environment variable *JAVA_HOME* should be set to the path to the Java SDK.

 The System environment variable *PATH* should contain the path to the Java SDK *bin* subfolder. 

*2. Verify [http://developer.android.com/sdk/index.html (Install if needed)] the Android SDK:*

The recommended Android API Level supported should be 15 or higher.

 The System environment variable *ANDROID_HOME* should be set to the path to the Android SDK.

 The System environment variable *PATH* should contain the paths to both the Android SDK's *tools* and *platform-tools* subfolders.

*NOTE:*

    To test on an *Android Emulator*, you must verify/prepare an appropriate *AVD* with the *android* tool provided with the Android SDK.  Refer to the Android Developers documentation for details.

    To test on a real device, you must verify/prepare any required connections and/or drivers for your device.  Refer to the Android Developers documentation for details. 

*3. Verify [http://ant.apache.org/ (Install if needed)] Apache Ant:*

Ant should be version 1.8 or higher.

 The System environment variable *ANT_HOME* should be set to the path to the Ant SDK.

 The System environment variable *PATH* should contain the path to the Ant SDK's *bin* subfolder. 

*4. Double-click or otherwise extract the contents of the RobotiumRCRelease ZIP into a directory.:* {{{<workdir>}}}

*5. In a CMD/Shell/Terminal window navigate to the {{{<workdir>}}} directory and execute the appropriate installation script:* 

    Windows: Setup-Win.bat %ANDROID_HOME% or {{{<path-to-android-sdk>}}}
       Unix: Setup-Unx.sh  $ANDROID_HOME  or {{{<path-to-android-sdk>}}}
        Mac: Setup-Mac.sh  $ANDROID_HOME  or {{{<path-to-android-sdk>}}}

    On Mac, and possibly some incantations of Unix, the user may be required to use *sudo* as follows:

    _sudo  ./Setup-Mac.sh  $ANDROID_HOME_
or
    _sudo  ./Setup-Unx.sh  $ANDROID_HOME_

If the script does not run at all:

    make sure the scripts are executable:

        _chmod a+x {{{*}}}.sh_

    prefix the shell: _'/bin/sh Setup-Mac.sh'_
(Don't forget to use sudo, if necessary.) 

*6. Rebuild SAFSTCPMessenger-debug.apk:*
Required only once to build with your tester/developer debug profile.

    * Go to the SAFSTCPMessenger project and verify/edit the file local.properties:
        * sdk.dir*={{{<path-to-android-sdk>}}}
        * safs.droid.automation.libs*=<path-to\RobotiumTestRunner\libs> 

    In a CMD/Shell/Terminal window navigate to the *SAFSTCPMessenger* project directory.

    Enter *ant debug* to build the *SAFSTCPMessenger-debug.apk*.

    Verify the APK was built in the *SAFSTCPMessenger* *bin* subfolder.

    On Windows:

    If you receive a BUILD FAILED message along with "Could not create task or type of type: componentdef.":

        There is a CLASSPATH issue which is usually resolved by eliminating the System CLASSPATH in the CMD window with:

            set *CLASSPATH*= (leave blank)

        Then try the 'ant debug' command again in that same CMD window. 

*7. Rebuild RobotiumTestRunner-debug.apk:*
Required only once to build with your tester/developer debug profile.

    Go to the RobotiumTestRunner project and verify/edit the file local.properties:

        sdk.dir={{{<path-to-android-sdk>}}}

    For a one-time TestRunner build, edit the RobotiumTestRunner AndroidManifest.xml file:
    Within the '<instrumentation ' element set the 'android:targetPackage' attribute to match the package of the AUT you will be testing:

        android:targetPackage="com.my.company.app.package"

    (As an advanced feature, the framework can rebuild the RobotiumTestRunner at runtime to match the targetPackage of whatever AUT is specified for testing.)

    In a CMD/Shell/Terminal window navigate to the RobotiumTestRunner project directory.
    Enter 'ant debug' to build the RobotiumTestRunner-debug.apk.
    Verify the APK was built in the RobotiumTestRunner 'bin' subfolder.

    On Windows:
    If you receive a BUILD FAILED message along with "Could not create task or type of type: componentdef.":

        There is a CLASSPATH issue which is usually resolved by eliminating the System CLASSPATH in the CMD window with:

            set CLASSPATH= (leave blank)

        Then try the 'ant debug' command again in that same CMD window. 
*8. Repackage your AUT APK with your tester/developer debug profile(if needed):*

    3rd-party 're-sign.jar' is located in the SoloRemoteControl 'libs' subfolder.
    The re-sign application takes 2 parameters:

        {{{<in>}}} path to AUT apk to re-sign

        {{{<out>}}} path to newly created AUT-debug.apk 

    In a CMD/Shell/Terminal window run the re-sign Java program:
    (Practice on the SampleSpinner APK provided with RobotiumRC)

    java -jar <path\to\re-sign.jar> <path\to\SpinnerActivity.apk> <out\to\SpinnerActivity-debug.apk>

    Verify the AUT-debug.apk was built in the target output path. 

= Test Development =
You can use the SoloRemoteControl project installed with RobotiumRemote control as a reference for your own Java development project. The SoloRemoteControl/src directory contains all the sourcecode contained in the robotium-remotecontrol.jar.

*1. Create your Java development project and reference the following JAR files:*

These can be found in SoloRemoteControl/libs:

    robotium-remotecontrol.jar

    safssockets.jar

    safsautoandroid.jar

*2. Create your MyTest class:*

For simplicity, this class should extend the [http://safsdev.sourceforge.net/doc/com/jayway/android/robotium/remotecontrol/solo/SoloTest.html SoloTest] class.
The source for SoloTest can be found in the SoloRemoteControl/src folder at:

    com/jayway/android/robotium/remotecontrol/solo/SoloTest.java

You can find the sample code below in the SoloRemoteControl/src folder at:

    com/jayway/android/robotium/remotecontrol/MyTest.java

Your MyTest class will need to minimally import a few classes:

    import java.util.Properties;

    import com.jayway.android.robotium.remotecontrol.solo.Message;

    import com.jayway.android.robotium.remotecontrol.solo.SoloTest;

    import com.jayway.android.robotium.remotecontrol.solo.Solo;

    public class MyTest extends SoloTest{

    }
*3. Override/Provide and invoke the same constructors as SoloTest:*

    public MyTest(){ super(); }

    public MyTest(String[] args){ super(args); }

    public MyTest(String messengerApk, String testRunnerApk, String instrumentArg){

        super(messengerApk, testRunnerApk, instrumentArg);

    }

*4. Override the static 'main' method for MyTest:*

    public static void main(String[] args){

        SoloTest soloTest = new MyTest(args);

        soloTest.process();

    }

*5. Override and implement your 'test()' method:*

This is where your remote control test code will go. Below is a simple example of using the remote control API:

    protected void test(){

      try{

          String activityID = solo.getCurrentActivity();

          Properties props = solo._last_remote_result;

          String activityName = props.getProperty(Message.PARAM_NAME);

          String activityClass = props.getProperty(Message.PARAM_CLASS);

          System.out.println("CurrentActivity   UID: "+ activityID);

          System.out.println("CurrentActivity Class: "+ activityClass);

          System.out.println("CurrentActivity  Name: "+ activityName);

      }catch(Exception e){

          e.printStackTrace();

      }

    }

 Refer to the [http://safsdev.sourceforge.net/doc/com/jayway/android/robotium/remotecontrol/solo/Solo.html JavaDoc for Solo remote control] for the full API available.

*6. Compile your work appropriate for your development environment:*

Remember, the minimum JAR files needed in the Java build path (CLASSPATH):

    robotium-remotecontrol.jar

    safsautoandroid.jar

    safssockets.jar

(These can be found in the SoloRemoteControl/libs folder.) 

*7. Run the test using all appropriate command-line parameters for SoloTest:*

Remember, the same JAR files needed for the build are needed in the CLASSPATH for execution.

For example, the following command (all on one line):

    java com.jayway.android.robotium.remotecontrol.MyTest

         aut=<path-to-your/aut-debug.apk>

         messenger=<path-to/SAFSTCPMessenger-debug.apk>

         runner=<path-to/RobotiumTestRunner-debug.apk>
         instrument=com.jayway.android.robotium.remotecontrol.client/com.jayway.android.robotium.remotecontrol.client.RobotiumTestRunner
         avd=SprintEvo

Then, hopefully, you should see a torrent of activity appear in the console and, eventually, the SAFS Messenger service go active on the device/emulator.  This would be followed by the launching of the AUT, a brief pause for the execution of the getCurrentActivity call, and then a shutdown of the AUT and SAFS Messenger service. 